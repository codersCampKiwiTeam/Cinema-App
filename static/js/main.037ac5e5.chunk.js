(window["webpackJsonpcinema-app"]=window["webpackJsonpcinema-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(43)},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),o=a(2),s=a(3),l=a(5),u=a(4),m=a(6),d=a(10),h=a(11),p=a(12),v=a.n(p),f=a(15),b=(a(31),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={posterUrl:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"movie-container"},r.a.createElement("div",{className:"movie-header"},r.a.createElement("h3",null,this.props.movieInfo.title)),r.a.createElement("img",{className:"poster",src:this.props.posterUrl,alt:"Poster of movie: ".concat(this.props.movieInfo.title)}),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/reservation-first-step/".concat(this.props.movieInfo.original_title)},r.a.createElement("button",{className:"btn-movie"},"Reserve Tickets"))))}}]),t}(r.a.Component)),E=(a(37),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[]},a.getMovies=Object(f.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=4e4eee58b292d2f310cacb8e88e7f12e&language=en-US&page=1",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(401===e.status)return"Unauthorized request";200!==e.status?e.text().then((function(e){return alert(e)})):e.json().then((function(e){a.setState({movies:e.results.slice(0,9)})}))})).catch((function(e){return alert(e)}));case 2:case"end":return e.stop()}}),e)}))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){return r.a.createElement("div",{className:"movie-list"},this.state.movies.map((function(e){return r.a.createElement(b,{movieInfo:e,key:e.id,posterUrl:"https://image.tmdb.org/t/p/w342"+e.poster_path})})))}}]),t}(r.a.Component)),k=(a(38),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("a",{href:"/"},r.a.createElement("h1",null,"Kiwi Cinema ",r.a.createElement("i",{className:"fas fa-video"}))))}}]),t}(r.a.Component)),y=a(24),N=(a(39),a(40),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"popup"},r.a.createElement("h1",null,"Your reservation number is ",this.props.reservationNumber),r.a.createElement("h2",null,"Thank You for choosing our Cinema"),r.a.createElement(d.b,{to:"/"},r.a.createElement("button",null,"Home Page")))}}]),t}(r.a.Component)),j=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getReserved=Object(f.a)(v.a.mark((function e(){var t,n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.title,r=t.day,c=t.hour,e.next=3,fetch("https://cinema-coderscamp-kiwi.herokuapp.com/movie/".concat(n,"/").concat(r,"/").concat(c),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(401===e.status)return"Unauthorized request";200!==e.status?e.text().then((function(e){return alert(e)})):e.json().then((function(e){var t=e.map((function(e){return e.seats}));[].concat.apply([],t).map((function(e){return document.getElementById("".concat(e)).className="seat reservedSeat"}))}))})).catch((function(e){return alert(e)}));case 3:case"end":return e.stop()}}),e)}))),a.seatOnClick=function(e){a.state.tickets!==a.state.seatsNumber&&"seat reservedSeat"!==e.currentTarget.className&&"seat selectedSeat"!==e.currentTarget.className&&(e.currentTarget.className="seat selectedSeat",a.setState({seats:a.state.seats.concat(e.currentTarget.id),seatsNumber:a.state.seats.length+1}))},a.sentReservation=Object(f.a)(v.a.mark((function e(){var t,n,r,c,i,o,s,l,u,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.tickets===a.state.seatsNumber){e.next=2;break}return e.abrupt("return");case 2:return t=a.state,n=t.title,r=t.day,c=t.hour,i=t.adult,o=t.senior,s=t.student,l=t.tickets,u=t.seats,m={title:n,day:r,hour:c,adult:i,senior:o,student:s,tickets:l,seats:u},e.next=6,fetch("https://cinema-coderscamp-kiwi.herokuapp.com/movie",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}}).then((function(e){if(401===e.status)return alert("Unauthorized request");200!==e.status?e.text().then((function(e){return alert(e)})):e.json().then((function(e){a.setState({reservationNumber:e._id}),document.getElementById("popup").style.display="flex"}))})).catch((function(e){return alert(e)}));case 6:case"end":return e.stop()}}),e)})));var n=document.location.href.split("/"),r=Object(y.a)(n,11),c=r[5],i=r[6],s=r[7],m=r[8],d=r[9],h=r[10],p=Number(m)+Number(d)+Number(h);return a.state={title:decodeURI(c),day:i,hour:s,adult:m,senior:d,student:h,tickets:p,seats:[],seatsNumber:0,reservationNumber:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getReserved()}},{key:"componentDidUpdate",value:function(){this.state.tickets===this.state.seatsNumber&&console.log("STOP")}},{key:"renderRow",value:function(e,t){for(var a=[r.a.createElement("div",{className:"rowName",key:e},e)],n=1;n<=t;n++)a.push(r.a.createElement("div",{id:"".concat(e,"-").concat(n),key:"".concat(e,"-").concat(n),className:"seat",onClick:this.seatOnClick},n));return a}},{key:"render",value:function(){return r.a.createElement("div",{className:"hall"},r.a.createElement("div",{className:"seats"},r.a.createElement("div",{className:"screen"},"Screen"),r.a.createElement("div",{className:"row"},this.renderRow("I",8)),r.a.createElement("div",{className:"row"},this.renderRow("II",8)),r.a.createElement("div",{className:"row"},this.renderRow("III",8)),r.a.createElement("div",{className:"row"},this.renderRow("IV",8)),r.a.createElement("div",{className:"row"},this.renderRow("V",8)),r.a.createElement("div",{className:"row"},this.renderRow("VI",8)),r.a.createElement("div",{className:"row"},this.renderRow("VII",8)),r.a.createElement("div",{className:"row"},this.renderRow("VIII",8)),r.a.createElement("div",{className:"row"},this.renderRow("IX",12)),r.a.createElement("div",{className:"row"},this.renderRow("X",12)),r.a.createElement("div",{className:"row"},this.renderRow("XI",12)),r.a.createElement("div",{className:"row"},this.renderRow("XII",12)),r.a.createElement("div",{className:"row"},this.renderRow("XIII",12)),r.a.createElement("div",{className:"row"},this.renderRow("XIV",12))),r.a.createElement("button",{id:"btn-reservation",onClick:this.sentReservation},"Book"),r.a.createElement(N,{reservationNumber:this.state.reservationNumber}))}}]),t}(r.a.Component),w=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null))}}]),t}(r.a.Component),O=(a(41),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onDayClick=function(e){a.setState({day:"".concat(e.currentTarget.value)})},a.onHourClick=function(e){a.setState({hour:"".concat(e.currentTarget.value)})},a.onAdultChange=function(e){var t=Number(e.currentTarget.value);a.setState({adultTickets:t})},a.onSeniorChange=function(e){var t=Number(e.currentTarget.value);a.setState({seniorTickets:t})},a.onStudentChange=function(e){var t=Number(e.currentTarget.value);a.setState({studentTickets:t})},a.state={day:"",hour:"",adultTickets:0,seniorTickets:0,studentTickets:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.day,a=e.hour,n=e.adultTickets,r=e.seniorTickets,c=e.studentTickets;""!==t&&""!==a&&n+r+c>0&&(document.getElementById("btn-tickets").disabled=!1)}},{key:"render",value:function(){var e=this.state,t=e.day,a=e.hour,n=e.adultTickets,c=e.seniorTickets,i=e.studentTickets,o=new Date,s="".concat(o.getDate()+1,".").concat(o.getMonth()+1),l="".concat(o.getDate()+2,".").concat(o.getMonth()+1),u="".concat(o.getDate()+3,".").concat(o.getMonth()+1);return r.a.createElement("div",{className:"form-container"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-panel"},r.a.createElement("div",{className:"date-container"},r.a.createElement("h1",null,"Day:"),r.a.createElement("div",{className:"date"},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:s,name:"day-radio",value:s,onClick:this.onDayClick}),r.a.createElement("label",{htmlFor:s}," ",s)),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:l,name:"day-radio",value:l,onClick:this.onDayClick}),r.a.createElement("label",{htmlFor:l}," ",l)),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:u,name:"day-radio",value:u,onClick:this.onDayClick}),r.a.createElement("label",{htmlFor:u}," ",u))),r.a.createElement("h1",null,"Hour:"),r.a.createElement("div",{className:"hour"},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"12:30",name:"hour-radio",value:"12:30",onClick:this.onHourClick}),r.a.createElement("label",{htmlFor:"12:30"}," 12:30")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"14:00",name:"hour-radio",value:"14:00",onClick:this.onHourClick}),r.a.createElement("label",{htmlFor:"14:00"}," 14:00")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"16:30",name:"hour-radio",value:"16:30",onClick:this.onHourClick}),r.a.createElement("label",{htmlFor:"16:30"}," 16:30")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"19:45",name:"hour-radio",value:"19:45",onClick:this.onHourClick}),r.a.createElement("label",{htmlFor:"19:45"}," 19:45")),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"22:00",name:"hour-radio",value:"22:00",onClick:this.onHourClick}),r.a.createElement("label",{htmlFor:"22:00"}," 22:00")))),r.a.createElement("div",{className:"tickets-container"},r.a.createElement("h1",null,"Tickets: "),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"adult"},"Adult 25z\u0142: "),r.a.createElement("input",{type:"number",id:"adult",name:"adult",min:"0",max:"35",onChange:this.onAdultChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"senior"},"Senior 20z\u0142: "),r.a.createElement("input",{type:"number",id:"senior",name:"senior",min:"0",max:"35",onChange:this.onSeniorChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"student"},"Student 15z\u0142: "),r.a.createElement("input",{type:"number",id:"student",name:"student",min:"0",max:"35",onChange:this.onStudentChange})))),r.a.createElement(d.b,{to:"/reservation-final-step/".concat(document.location.href.slice(71),"/").concat(t,"/").concat(a,"/").concat(n,"/").concat(c,"/").concat(i)},r.a.createElement("button",{id:"btn-tickets",disabled:!0},"Next"))))}}]),t}(r.a.Component)),g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(d.a,{basename:"/Cinema-App"},r.a.createElement(h.a,{path:"/",exact:!0,component:E}),r.a.createElement(h.a,{path:"/reservation-first-step",component:O}),r.a.createElement(h.a,{path:"/reservation-final-step",component:w})))}}]),t}(r.a.Component);a(42);i.a.render(r.a.createElement(g,null),document.querySelector("#root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.037ac5e5.chunk.js.map